{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <link rel="stylesheet" href="{% static 'css/Base.css' %}">
        {% block head %}{% endblock %}
    </head>
    <body>
        <header>
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg fixed-top">
                <div class="container-fluid">
                    <a class="navbar-brand me-auto" href="{% url 'Index' %}">A4Kiosk</a>
                    <div class="d-flex align-items-center order-lg-2">
                        <div class="navbar-text me-2 d-lg-block">
                            {% if request.user.is_authenticated %}
                                <img class="mb-1" src="{% static 'img/person.svg' %}" alt="">
                                {{ request.user.first_name }}
                            {% endif %}
                        </div>
                        {% if request.user.is_authenticated %}
                            <a id="nav" href="{% url 'LogOut' %}" class="login-button">Logout</a>
                        {% else %}
                            <a id="nav" href="{% url 'LogIn' %}" class="login-button">Login</a>
                        {% endif %}
                    </div>
                    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                        aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                        <div class="offcanvas-header">
                            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">A4Kiosk</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body">
                            {% if request.user.is_authenticated %}
                                <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                                    <li class="nav-item">
                                        <a class="nav-link mx-lg-2" href="{% url 'UploadFiles' %}">Upload Files</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link mx-lg-2" href="{% url 'myQRs' %}">My QRs</a>
                                    </li>
                                </ul>
                                <a id="canvas" href="{% url 'LogOut' %}" class="login-button">Logout</a>
                            {% else %}
                                <a id="canvas" href="{% url 'LogIn' %}" class="login-button">Login</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <!-- End Navbar -->
        <!-- Main Block -->
        <section class="hero-section">
            {% block content %}{% endblock content %}
        </section>
        {% block other %}{% endblock other %}
        <footer class="d-flex position-absolute bottom-0 start-0 w-100 bg-light ps-2">
            <h6 class="text-black">For any Error or Suggestion Call or WhatsApp: 7987123695</h6>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
            integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
            crossorigin="anonymous"></script>
        <script>
            document.querySelectorAll(".nav-link").forEach((link) => {
              if (link.href === window.location.href) {
                link.classList.add("active");
                link.setAttribute("aria-current", "page");
              }
            });
        </script>
        <script>
            {% block script %}{% endblock %}
        </script>
    </body>
</html>